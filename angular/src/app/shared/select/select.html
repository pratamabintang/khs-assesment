<div class="mb-5">
  <label class="block text-sm font-medium text-slate-700 mb-1">
    {{ label }}
  </label>

  <div class="relative">
    <select
      class="w-full rounded-xl border px-4 py-3 pr-10 text-sm outline-none transition focus:ring-2 bg-white disabled:bg-slate-100 appearance-none"
      [disabled]="isDisabled"
      [ngClass]="{
        'border-orange-500 focus:border-orange-500 focus:ring-orange-500/20': invalid,
        'border-slate-300 focus:border-indigo-500 focus:ring-indigo-500/20': !invalid
      }"
      [value]="selectedValue"
      (change)="onSelectChange($event)"
      (blur)="onSelectBlur()"
    >
      <option value="">{{ placeholder }}</option>
      @for (opt of options; track opt.id) {
      <option [value]="opt.id">{{ opt.name }}</option>
      }
    </select>

    <!-- Custom arrow -->
    <div class="pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-slate-400">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-4 w-4"
        viewBox="0 0 20 20"
        fill="currentColor"
      >
        <path
          fill-rule="evenodd"
          d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z"
          clip-rule="evenodd"
        />
      </svg>
    </div>
  </div>

  @if (invalid) {
  <p class="mt-1 text-xs text-orange-600">{{ errorText }}</p>
  }
</div>
