<app-form title="Masuk Akun" desc="Masukkan kredensial anda">
  <form class="mt-4 space-y-5" [formGroup]="form" (ngSubmit)="onSubmit()">
    <div>
      <label class="block text-sm font-medium text-slate-700 mb-1"> Email </label>
      <input
        maxlength="254"
        type="email"
        placeholder="nama@gmail.com"
        formControlName="email"
        [ngClass]="{
          'border-orange-500 focus:border-orange-500 focus:ring-orange-500/20': emailInvalid,
          'border-slate-300 focus:border-indigo-500 focus:ring-indigo-500/20': !emailInvalid,
        }"
        class="w-full rounded-xl border px-4 py-3 text-sm outline-none transition focus:ring-2"
      />

      @if (emailInvalid) {
        <p class="mt-1 text-xs text-orange-600">Email tidak valid</p>
      }
    </div>

    <div>
      <label class="block text-sm font-medium text-slate-700 mb-1"> Password </label>
      <input
        maxlength="32"
        type="password"
        placeholder="••••••••"
        formControlName="password"
        [ngClass]="{
          'border-orange-500 focus:border-orange-500 focus:ring-orange-500/20': passwordInvalid,
          'border-slate-300 focus:border-indigo-500 focus:ring-indigo-500/20': !passwordInvalid,
        }"
        class="w-full rounded-xl border px-4 py-3 text-sm outline-none transition focus:ring-2"
      />

      @if (passwordInvalid) {
        <p class="mt-1 text-xs text-orange-600">
          {{ passwordError }}
        </p>
      }
    </div>

    @if (email.touched && password.touched && form.invalid) {
      <p class="text-center text-xs text-orange-600">
        Form belum valid. Silakan periksa kembali input Anda.
      </p>
    }

    <div class="flex items-center justify-between text-sm">
      <label class="flex items-center gap-2 text-slate-600">
        <input
          type="checkbox"
          class="rounded border-slate-300 text-indigo-600 focus:ring-0"
          formControlName="rememberMe"
        />
        Ingat saya
      </label>
      <a [routerLink]="['/auth', 'forget-password']" class="text-indigo-600 hover:underline">
        Lupa password?
      </a>
    </div>

    <button
      type="submit"
      [disabled]="formInvalid || submitted()"
      class="w-full rounded-xl bg-gradient-to-r from-indigo-600 to-violet-600 py-3 text-sm font-semibold text-white shadow-lg shadow-indigo-600/20 transition disabled:opacity-60 disabled:cursor-not-allowed hover:brightness-110 active:brightness-95"
    >
      Login
    </button>

    <p class="text-center text-sm text-slate-500">
      Belum punya akun?
      <a [routerLink]="['/auth', 'register']" class="font-medium text-indigo-600 hover:underline">
        Daftar Akun
      </a>
    </p>
  </form>
</app-form>
