<app-form title="Reset Password" desc="Masukkan email Gmail yang terdaftar">
  <form class="mt-4 space-y-5" [formGroup]="form" (ngSubmit)="onSubmit()">
    <div>
      <label class="block text-sm font-medium text-slate-700 mb-1"> Gmail </label>
      <input
        maxlength="254"
        type="email"
        placeholder="nama@gmail.com"
        formControlName="email"
        [ngClass]="{
          'border-orange-500 focus:border-orange-500 focus:ring-orange-500/20': emailInvalid,
          'border-slate-300 focus:border-indigo-500 focus:ring-indigo-500/20': !emailInvalid,
        }"
        class="w-full rounded-xl border px-4 py-3 text-sm outline-none transition focus:ring-2"
      />

      @if (emailInvalid) {
        <p class="mt-1 text-xs text-orange-600">Email tidak valid</p>
      }
    </div>

    @if (form.invalid && email.touched) {
      <p class="text-center text-xs text-orange-600">
        Form belum valid. Silakan periksa kembali input Anda.
      </p>
    }
    @if (submitted()) {
      <div
        class="rounded-xl border border-indigo-200 bg-indigo-50 px-4 py-3 text-sm text-indigo-700"
      >
        Jika akun terdaftar, Anda akan menerima email reset password.
      </div>
    }

    <button
      type="submit"
      [disabled]="formInvalid || submitted"
      class="w-full rounded-xl bg-gradient-to-r from-indigo-600 to-violet-600 py-3 text-sm font-semibold text-white shadow-lg shadow-indigo-600/20 transition disabled:opacity-60 disabled:cursor-not-allowed hover:brightness-110 active:brightness-95"
    >
      Kirim Link Reset
    </button>

    <p class="text-center text-sm text-slate-500">
      Ingat password?
      <a [routerLink]="['/auth', 'login']" class="font-medium text-indigo-600 hover:underline">
        Masuk
      </a>
    </p>
  </form>
</app-form>
