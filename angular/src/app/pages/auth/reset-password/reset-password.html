<app-form title="Reset Password" desc="Masukkan password baru">
  <form class="mt-4 space-y-5" [formGroup]="form" (ngSubmit)="onSubmit()">
    <div>
      <label class="block text-sm font-medium text-slate-700 mb-1"> Password </label>
      <input
        maxlength="32"
        type="password"
        placeholder="••••••••"
        formControlName="password1"
        [ngClass]="{
          'border-orange-500 focus:border-orange-500 focus:ring-orange-500/20': password1Invalid,
          'border-slate-300 focus:border-indigo-500 focus:ring-indigo-500/20': !password1Invalid,
        }"
        class="w-full rounded-xl border px-4 py-3 text-sm outline-none transition focus:ring-2"
      />

      @if (password1Invalid) {
        <p class="mt-1 text-xs text-orange-600">
          {{ password1Error }}
        </p>
      }
    </div>

    <div>
      <label class="block text-sm font-medium text-slate-700 mb-1"> Konfirmasi Password </label>
      <input
        maxlength="32"
        type="password"
        placeholder="••••••••"
        formControlName="password2"
        [ngClass]="{
          'border-orange-500 focus:border-orange-500 focus:ring-orange-500/20': password2Invalid,
          'border-slate-300 focus:border-indigo-500 focus:ring-indigo-500/20': !password2Invalid,
        }"
        class="w-full rounded-xl border px-4 py-3 text-sm outline-none transition focus:ring-2"
      />

      @if (password2Invalid) {
        <p class="mt-1 text-xs text-orange-600">
          {{ password2Error }}
        </p>
      }
    </div>

    @if (password1.touched && password2.touched && form.invalid) {
      <p class="text-center text-xs text-orange-600">
        Form belum valid. Silakan periksa kembali input Anda.
      </p>
    }

    <button
      type="submit"
      [disabled]="formInvalid || submitted()"
      class="w-full rounded-xl bg-gradient-to-r from-indigo-600 to-violet-600 py-3 text-sm font-semibold text-white shadow-lg shadow-indigo-600/20 transition disabled:opacity-60 disabled:cursor-not-allowed hover:brightness-110 active:brightness-95"
    >
      Reset Password
    </button>

    <p class="text-center text-sm text-slate-500">
      Ingat password?
      <a [routerLink]="['/auth', 'login']" class="font-medium text-indigo-600 hover:underline">
        Masuk
      </a>
    </p>
  </form>
</app-form>
